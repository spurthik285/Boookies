{% extends "adminlayout.html" %}
{% block content %}

<!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name = "viewport" content="width=device-width, initial-scale=1">
    <link rel = "stylesheet" type="text/css" href="{{ url_for('static', filename='home.css')}}" > 
    <!-- Bootstrap CSS -->
    <link rel = "stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity = "sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

<title>Add Book</title>
    <style type="text/css">
      .left{
        margin-left: 15rem;
        margin-top: 1rem;
        margin-bottom: 5rem;
        }
    </style>


<div class = "card text-white bg-dark mb-8 left" style="max-width: 40rem;">
  <div class = "col-md-12">
    <div class = "card-body">
      <fieldset class = "form-group">
      <legend class = "border-bottom mb-4">ADD BOOK</legend>
        <form class="text" method = "post" action = "{{ url_for('addbook')}}" enctype="multipart/form-data">
          

            <div class = "form-group">
              <label for = "exampleInputCatogaryid">Catogary Name (ID)</label>
              <!-- <input type = "int" name = "catid" class = "form-control" id = "exampleInputCatid" placeholder = "Please enter catogary id"> -->
              <select class="custom-select" name="catid" required id="inputGroupSelect01">
                        {% for i in cat %}
                              {% if i['catid'] %}
                                <option value="{{ i['catid'] }}">{{ i['cat_name'] }}</option>
                              {% endif %}
                        {% endfor %}
                       </select>
            </div>
            <div class = "form-group">
              <label for = "exampleInputBookid">Catogary Name</label>
                  <select class="custom-select" name="cat_name" required id="inputGroupSelect01">
                        {% for i in cat %}
                              {% if i['catid'] %}
                                <option value="{{ i['cat_name'] }}">{{ i['cat_name'] }}</option>
                              {% endif %}
                        {% endfor %}
                       </select>    
            </div>

            <!-- <div class = "form-group">
              <label for = "exampleInputBookid">Book id</label>
              <input type = "int" name = "book_id" class = "form-control" id = "exampleInputbookid" placeholder = "Please enter book id">
            </div> -->

            <div class = "form-group">
              <label for = "exampleInputBookname">Book Name</label>
              <input type = "text" name = "book_name" class = "form-control" id = "exampleInputBookname" placeholder = "Please enter book name">
            </div>

            <div class = "form-group">
              <label for = "exampleInputEdition">Edition</label>
              <input type = "text" name = "edition" class = "form-control" id = "exampleInputedition" placeholder = "Please enter book edition">
            </div>

            <div class = "form-group">
              <label for = "exampleInputBookname">Author Name</label>
              <input type = "text" name = "author_name" class = "form-control" id = "exampleInputauthorname" placeholder = "Please enter author name">
            </div>

            <div class = "form-group">
              <label for = "exampleInputBookname">Co-author Name</label>
              <input type = "text" name = "coauthor_name" class = "form-control" id = "exampleInputCoauthorname" placeholder = "Please enter Co-author name">
            </div>

            <div class = "form-group">
              <label for = "exampleInputBookname">Book Descripton</label>
              <input type = "text" name = "book_description" class = "form-control" id = "exampleInputDescription" placeholder = "Please enter book description">
            </div>

            <div class="form-group">
              <label>Book Image</label>
              <p><input type="file" name="file" accept="image/*" name="image" id="file"  onchange="loadFile(event)" style="display: none;"></p>
              <p><img id="output" width="89" /></p>
              <p><label for="file" name='file' style="cursor: pointer;" class="btn btn-primary">Upload Photo</label></p>
            </div>

            <!-- <div class = "form-group">
              <label for = "exampleInputBookname">Translation</label>
              <input type = "text" name = "translation" class = "form-control" id = "exampleInputDescription" placeholder = "Please enter book language name">
            </div> -->


            <a href=""><button type = "submit" class = "btn btn-primary">Add Book</button></a>
           
            
        </form>
      </fieldset>
    </div>
  </div>
</div>
<div><br> 
     <!-- <table class="table table-hover table-dark"> -->
      <table class="table table-dark" style="width: 40%;" align="center">
            <thead align="center">
              <tr>
                <th scope="col">Book Name</th>
                <th scope="col">Cat Name</th>
                <th scope="col">Edit</th>
                <th scope="col">Delete</th>
              </tr>
            </thead>
            <tbody>
                {% for i in books %} 
                      <tr align="center">
                      <td scope="col">{{ i['book_name'] }}</td>
                      <td scope="col">{{ i['cat_name'] }}</td>
                      <td><a href="/edit/{{books[0]}}" class="btn btn-outline-primary" type="button" value="Edit">Edit</a></td>
                      <td><a href="/delete/{{books[0]}}" class="btn btn-outline-danger" type="button" value="Delete">Delete</td>
                    </tr>
                {% endfor %}
            </tbody>
      </table>   
  </div>
{% endblock content %}
